(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{448:function(t,s,a){"use strict";a.r(s);var n=a(32),v=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"弹幕快照"}},[t._v("弹幕快照")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E8%8E%B7%E5%8F%96%E5%BC%B9%E5%B9%95%E5%BF%AB%E7%85%A7"}},[t._v("获取弹幕快照")])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"获取弹幕快照"}},[t._v("获取弹幕快照")]),t._v(" "),a("blockquote",[a("p",[t._v("http://api.bilibili.com/x/v2/dm/ajax")])]),t._v(" "),a("p",[a("em",[t._v("请求方式:GET")])]),t._v(" "),a("p",[t._v("最近产生的几条弹幕内容，"),a("strong",[t._v("最多20条")])]),t._v(" "),a("p",[a("strong",[t._v("url参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("必要性")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("aid")]),t._v(" "),a("td",[t._v("num或str")]),t._v(" "),a("td",[t._v("稿件avid或稿件bvid")]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("json回复：")])]),t._v(" "),a("p",[t._v("根对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("返回值")]),t._v(" "),a("td",[t._v("0：成功"),a("br"),t._v("-400：请求错误"),a("br"),t._v("-404：无视频")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("错误信息")]),t._v(" "),a("td",[t._v("默认为0")])]),t._v(" "),a("tr",[a("td",[t._v("ttl")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("array")]),t._v(" "),a("td",[t._v("预览列表")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("数组：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("项")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("预览内容1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("n")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("预览内容（n+1）")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("……")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("……")]),t._v(" "),a("td",[t._v("……")])]),t._v(" "),a("tr",[a("td",[t._v("19")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("预览内容20")]),t._v(" "),a("td",[t._v("最后一条")])])])]),t._v(" "),a("p",[a("strong",[t._v("示例：")])]),t._v(" "),a("p",[t._v("获取视频"),a("code",[t._v("av43337021")]),t._v("/"),a("code",[t._v("BV1rb411m7gE")]),t._v("的弹幕快照，总计20条")]),t._v(" "),a("p",[t._v("avid方式：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -G "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.bilibili.com/x/v2/dm/ajax'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aid=43337021'")]),t._v("\n")])])]),a("p",[t._v("bvid方式：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -G "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.bilibili.com/x/v2/dm/ajax'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aid=BV1rb411m7gE'")]),t._v("\n")])])]),a("details",[a("summary",[t._v("查看响应示例：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ttl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"漫画比动漫好看而且血腥"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"666"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"金木小天使"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"太喜欢了"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"每天一遍防止抑郁"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我还记得土豆那时候还有的看"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"把在给我摸摸～"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"突然泪目"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"感谢野生字幕君"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"993-7"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"刚刚出的时候小学看，现在高二了"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"原版op有这么长吗？搞笑，肯定做了剪辑，op会给你放全歌？"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"让你看个op 3 : 5 4 秒？"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"说原版不原版的都是弱智"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"樱花"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请打开洗脑循环食用，请打开洗脑循环食用，请打开洗脑循环食用，请打开洗脑循环食用，请打开洗脑循环食用，"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"再来亿遍"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"错的不是我，而是这个世界。"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"吃货的第一季的最后一季足以让他封神！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])}),[],!1,null,null,null);s.default=v.exports}}]);