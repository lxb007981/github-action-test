(window.webpackJsonp=window.webpackJsonp||[]).push([[255],{646:function(t,v,s){"use strict";s.r(v);var _=s(32),a=Object(_.a)({},(function(){var t=this,v=t.$createElement,s=t._self._c||v;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"账号密码登录"}},[t._v("账号密码登录")]),t._v(" "),s("p",[t._v("web端密码登录流程：")]),t._v(" "),s("ol",[s("li",[s("RouterLink",{attrs:{to:"/login/login_action/"}},[t._v("完成人机验证")])],1),t._v(" "),s("li",[t._v("加密登录密码，获取RSA公钥"),s("code",[t._v("key")]),t._v("与盐值"),s("code",[t._v("hash")]),s("strong",[t._v("（盐值有效时间为20s）")]),t._v("，并连接盐值+密码字串（注意先后顺序），使用RSA公钥加密，得到base64格式密文")]),t._v(" "),s("li",[t._v("登录操作验证，使用账号"),s("code",[t._v("username")]),s("strong",[t._v("（手机号或邮箱）")]),t._v("+密文密码"),s("code",[t._v("password")]),t._v("+登录密钥"),s("code",[t._v("key")]),t._v("+极验"),s("code",[t._v("challenge")]),t._v("+验证结果"),s("code",[t._v("validate")]),t._v("+验证结果"),s("code",[t._v("seccode")])])]),t._v(" "),s("hr"),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E8%8E%B7%E5%8F%96%E5%8A%A0%E5%AF%86%E5%85%AC%E9%92%A5%E5%8F%8A%E5%AF%86%E7%A0%81%E7%9B%90%E5%80%BC1%EF%BC%88web%E7%AB%AF%EF%BC%89"}},[t._v("获取加密公钥及密码盐值1（web端）")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%8E%B7%E5%8F%96%E5%8A%A0%E5%AF%86%E5%85%AC%E9%92%A5%E5%8F%8A%E5%AF%86%E7%A0%81%E7%9B%90%E5%80%BC2%EF%BC%88APP%E7%AB%AF%EF%BC%89"}},[t._v("获取加密公钥及密码盐值2（APP端）")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E7%99%BB%E5%BD%95%E5%AF%86%E7%A0%81%E7%9A%84%E5%8A%A0%E5%AF%86"}},[t._v("登录密码的加密")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%EF%BC%88web%E7%AB%AF%EF%BC%89"}},[t._v("使用账号密码登录（web端）")])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"获取加密公钥及密码盐值1-web端"}},[t._v("获取加密公钥及密码盐值1（web端）")]),t._v(" "),s("blockquote",[s("p",[t._v("http://passport.bilibili.com/login?act=getkey")])]),t._v(" "),s("p",[s("em",[t._v("请求方式：GET")])]),t._v(" "),s("p",[s("strong",[t._v("json回复：")])]),t._v(" "),s("p",[t._v("根对象：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("hash")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("密码校验盐值")]),t._v(" "),s("td",[t._v("有效时间为20s")])]),t._v(" "),s("tr",[s("td",[t._v("key")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("RSA公钥")]),t._v(" "),s("td",[s("strong",[t._v("公钥为固定值")])])])])]),t._v(" "),s("p",[s("strong",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://passport.bilibili.com/login?act=getkey'")]),t._v("\n")])])]),s("details",[s("summary",[t._v("查看响应示例：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"07c6501690c1af85"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDjb4V7EidX/ym28t2ybo0U6t0n\\n6p4ej8VjqKHg100va6jkNbNTrLQqMCQCAYtXMXXp2Fwkk6WR+12N9zknLjf+C9sx\\n/+l48mjUU8RqahiFD1XT/u2e0m2EN029OhCgkHx3Fc/KlFSIbak93EH/XlYis0w+\\nXl69GV6klzgxW6d2xQIDAQAB\\n-----END PUBLIC KEY-----\\n"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"获取加密公钥及密码盐值2-app端"}},[t._v("获取加密公钥及密码盐值2（APP端）")]),t._v(" "),s("blockquote",[s("p",[t._v("http://passport.bilibili.com/api/oauth2/getKey")])]),t._v(" "),s("p",[s("em",[t._v("请求方式：POST")])]),t._v(" "),s("p",[t._v("鉴权方式：appkey")]),t._v(" "),s("p",[s("strong",[t._v("正文参数（ application/x-www-form-urlencoded ）：")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("必要性")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("appkey")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("APP密钥")]),t._v(" "),s("td",[t._v("APP方式必要")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("sign")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("APP签名")]),t._v(" "),s("td",[t._v("APP方式必要")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[s("strong",[t._v("json回复：")])]),t._v(" "),s("p",[t._v("根对象：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("hash")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("验证hash盐值")]),t._v(" "),s("td",[t._v("有效时间为20s")])]),t._v(" "),s("tr",[s("td",[t._v("key")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("RSA公钥")]),t._v(" "),s("td",[s("strong",[t._v("公钥为固定值")])])])])]),t._v(" "),s("p",[s("strong",[t._v("示例：")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://passport.bilibili.com/api/oauth2/getKey'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'appkey=1d8b6e7d45233436'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sign=17004c193f688f0b5665c1068e733aff'")]),t._v("\n")])])]),s("details",[s("summary",[t._v("查看响应示例：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"07c6501690c1af85"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDjb4V7EidX/ym28t2ybo0U6t0n\\n6p4ej8VjqKHg100va6jkNbNTrLQqMCQCAYtXMXXp2Fwkk6WR+12N9zknLjf+C9sx\\n/+l48mjUU8RqahiFD1XT/u2e0m2EN029OhCgkHx3Fc/KlFSIbak93EH/XlYis0w+\\nXl69GV6klzgxW6d2xQIDAQAB\\n-----END PUBLIC KEY-----\\n"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"登录密码的加密"}},[t._v("登录密码的加密")]),t._v(" "),s("p",[s("strong",[t._v("注：RSA公钥一般为固定值")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDjb4V7EidX/ym28t2ybo0U6t0n\n6p4ej8VjqKHg100va6jkNbNTrLQqMCQCAYtXMXXp2Fwkk6WR+12N9zknLjf+C9sx\n/+l48mjUU8RqahiFD1XT/u2e0m2EN029OhCgkHx3Fc/KlFSIbak93EH/XlYis0w+\nXl69GV6klzgxW6d2xQIDAQAB\n-----END PUBLIC KEY-----\n")])])]),s("p",[t._v("例如登录密码为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("BiShi22332323\n")])])]),s("p",[t._v("获取到的盐值为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("8e0db05c46f4052c\n")])])]),s("p",[t._v("那么按照"),s("code",[t._v("盐值")]),t._v("+"),s("code",[t._v("密码字串")]),t._v("连接二者得到：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("8e0db05c46f4052cBiShi22332323\n")])])]),s("p",[t._v("用公钥进行RSA加密得到base64字串：")]),t._v(" "),s("p",[t._v("因为公钥的"),s("strong",[t._v("无法解密性")]),t._v("和盐值的"),s("strong",[t._v("超时机制")]),t._v("，故无法本地验证加密结果")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("YgpjxAQ22pKa9socHIKPCZX0a/NS6Ng9Zzy+rp16b0LJGT6RHw2ERs3+ijCpG96PKTY1Baavwf0xgotmNvpl25l1KO5y4AjcqeWTzNTSVn6ejonBXGmBMybHHYawJ0aMPn1eDGpKrbI91mrF+h2x+fsnnpuZ1gheiYGzFmtshUc=\n")])])]),s("h2",{attrs:{id:"使用账号密码登录-web端"}},[t._v("使用账号密码登录（web端）")]),t._v(" "),s("blockquote",[s("p",[t._v("http://passport.bilibili.com/web/login/v2")])]),t._v(" "),s("p",[s("em",[t._v("请求方式：POST")])]),t._v(" "),s("p",[t._v("验证登录成功后会进行设置以下cookie项：")]),t._v(" "),s("p",[s("code",[t._v("sid")]),t._v(" "),s("code",[t._v("DedeUserID")]),t._v(" "),s("code",[t._v("DedeUserID__ckMd5")]),t._v(" "),s("code",[t._v("SESSDATA")]),t._v(" "),s("code",[t._v("bili_jct")])]),t._v(" "),s("p",[s("strong",[t._v("正文参数（ application/x-www-form-urlencoded ）：")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数名")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("必要性")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("captchaType")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("6")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("必须为"),s("code",[t._v("6")])])]),t._v(" "),s("tr",[s("td",[t._v("username")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("用户登录账号")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("手机号或邮箱地址")])]),t._v(" "),s("tr",[s("td",[t._v("password")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("加密后的带盐密码")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("base64格式")])]),t._v(" "),s("tr",[s("td",[t._v("keep")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("true")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("必须为"),s("code",[t._v("true")])])]),t._v(" "),s("tr",[s("td",[t._v("key")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("登录秘钥")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("从B站API获取")])]),t._v(" "),s("tr",[s("td",[t._v("challenge")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("极验challenge")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("从B站API获取")])]),t._v(" "),s("tr",[s("td",[t._v("validate")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("极验结果")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("从极验获取")])]),t._v(" "),s("tr",[s("td",[t._v("seccode")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("极验结果")]),t._v(" "),s("td",[t._v("必要")]),t._v(" "),s("td",[t._v("从极验获取")])])])]),t._v(" "),s("p",[s("strong",[t._v("json回复：")])]),t._v(" "),s("p",[t._v("根对象：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("code")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("返回值")]),t._v(" "),s("td",[t._v("0：成功"),s("br"),t._v("-400：请求错误"),s("br"),t._v("-629：账号或密码错误"),s("br"),t._v("-653：用户名或密码不能为空"),s("br"),t._v("-662：提交超时,请重新提交"),s("br"),t._v("-2001：缺少必要的的参数"),s("br"),t._v("-2100：需验证手机号或邮箱"),s("br"),t._v("2400：登录秘钥错误"),s("br"),t._v("2406：验证极验服务出错"),s("br"),t._v("86000：RSA解密失败")])]),t._v(" "),s("tr",[s("td",[t._v("ts")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("当前时间戳")]),t._v(" "),s("td",[t._v("成功时无此项")])]),t._v(" "),s("tr",[s("td",[t._v("message")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("错误信息")]),t._v(" "),s("td",[t._v("默认为0")])]),t._v(" "),s("tr",[s("td",[t._v("data")]),t._v(" "),s("td",[t._v("obj")]),t._v(" "),s("td",[t._v("数据本体")]),t._v(" "),s("td",[t._v("成功时有此项")])])])]),t._v(" "),s("p",[s("code",[t._v("data")]),t._v("对象：")]),t._v(" "),s("p",[s("strong",[t._v("未登录时：")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("redirectUrl")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("游戏分站跨域登录url")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[s("strong",[t._v("已登录时：")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("isLogin")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("true")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("goUrl")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("https://www.bilibili.com")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[s("strong",[t._v("需验证手机号或邮箱时")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("内容")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mid")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("用户mid")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("tel")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("绑定的手机号")]),t._v(" "),s("td",[t._v("星号隐藏部分信息")])]),t._v(" "),s("tr",[s("td",[t._v("email")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("绑定的邮箱")]),t._v(" "),s("td",[t._v("星号隐藏部分信息")])]),t._v(" "),s("tr",[s("td",[t._v("sorce")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("0")]),t._v(" "),s("td",[s("strong",[t._v("作用尚不明确")])])]),t._v(" "),s("tr",[s("td",[t._v("keeptime")]),t._v(" "),s("td",[t._v("num")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[s("strong",[t._v("作用尚不明确")])])]),t._v(" "),s("tr",[s("td",[t._v("goUrl")]),t._v(" "),s("td",[t._v("str")]),t._v(" "),s("td",[t._v("https://www.bilibili.com")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[s("strong",[t._v("示例：")])]),t._v(" "),s("p",[t._v("例如用户账号为"),s("code",[t._v("12345678900")]),t._v("，加密后的密码为"),s("code",[t._v("xxx")]),t._v("，登录秘钥为"),s("code",[t._v("aabbccdd")]),t._v("，极验challenge为"),s("code",[t._v("2333")]),t._v("，极验结果为"),s("code",[t._v("666666")]),t._v("，进行验证登录操作")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://passport.bilibili.com/web/login/v2'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'captchaType=6'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username=12345678900'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password=xxx'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keep=true'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key=aabbccdd'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'challenge=2333'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'validate=666666'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'seccode=666666|jordan'")]),t._v("\n")])])]),s("details",[s("summary",[t._v("查看响应示例：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"redirectUrl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://passport.biligame.com/crossDomain?DedeUserID=***&DedeUserID__ckMd5=***&Expires=15551000&SESSDATA=***&bili_jct=***&gourl=https%3A%2F%2Fwww.bilibili.com"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("p",[s("strong",[t._v("响应头部抓包信息：")])]),t._v(" "),s("p",[t._v("可明显看见设置了几个cookie（填入浏览器即可成功登录）")]),t._v(" "),s("details",[s("summary",[t._v("查看响应示例：")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[s("span",{pre:!0,attrs:{class:"token response-status"}},[s("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token status-code number"}},[t._v("200")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[t._v("OK")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Date:")]),t._v(" Mon, 13 Jul 2020 06:56:00 GMT\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json;charset=UTF-8\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Length:")]),t._v(" 273\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Connection:")]),t._v(" keep-alive\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Server:")]),t._v(" Apache-Coyote/1.1\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Set-Cookie:")]),t._v(" DedeUserID=***; Domain=.bilibili.com; Expires=Sat, 09-Jan-2021 06:39:43 GMT; Path=/\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Set-Cookie:")]),t._v(" DedeUserID__ckMd5=***; Domain=.bilibili.com; Expires=Sat, 09-Jan-2021 06:39:43 GMT; Path=/\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Set-Cookie:")]),t._v(" SESSDATA=***; Domain=.bilibili.com; Expires=Sat, 09-Jan-2021 06:39:43 GMT; Path=/; HttpOnly\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Set-Cookie:")]),t._v(" bili_jct=***; Domain=.bilibili.com; Expires=Sat, 09-Jan-2021 06:39:43 GMT; Path=/\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Security-Policy-Report-Only:")]),t._v(" default-src 'self' data: *.bilibili.com *.hdslb.com; style-src 'self' 'unsafe-inline' *.hdslb.com static.geetest.com; img-src 'self' data: blob: *.bilibili.com *.hdslb.com http://*.hdslb.com static.geetest.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' *.bilibili.com *.hdslb.com api.geetest.com static.geetest.com; object-src 'self' *.hdslb.com; media-src 'self' *.acgvideo.com http://*.acgvideo.com *.ksyungslb.com; connect-src 'self' data: wss://*.bilibili.com:* *.bilibili.com *.hdslb.com *.biliapi.net *.biliapi.com; frame-ancestors 'self' *.bilibili.com *.biligame.com; report-uri https://security.bilibili.com/csp_report\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Expires:")]),t._v(" Mon, 13 Jul 2020 06:55:59 GMT\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Cache-Control:")]),t._v(" no-cache\n"),s("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("X-Cache-Webcdn:")]),t._v(" BYPASS from jd-sxhz-dx-w-01\n")])])])]),t._v(" "),s("p",[s("strong",[t._v("游戏分站跨域登录url：")])]),t._v(" "),s("p",[t._v("游戏分站跨域登录url与cookie的值一一对应，可用于不方便设置cookie的场合提取使用")]),t._v(" "),s("p",[t._v("https://passport.biligame.com/crossDomain?")]),t._v(" "),s("p",[t._v("DedeUserID=(登录mid)&")]),t._v(" "),s("p",[t._v("DedeUserID__ckMd5=(登录mid MD5值)&")]),t._v(" "),s("p",[t._v("Expires=(过期时间 秒)&")]),t._v(" "),s("p",[t._v("SESSDATA=(登录token)&")]),t._v(" "),s("p",[t._v("bili_jct=(csrf)&")]),t._v(" "),s("p",[t._v("gourl=(跳转网址 默认为主页)")])])}),[],!1,null,null,null);v.default=a.exports}}]);