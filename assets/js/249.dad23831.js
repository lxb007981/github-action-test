(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{643:function(t,s,_){"use strict";_.r(s);var v=_(32),a=Object(v.a)({},(function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"退出账号登录"}},[t._v("退出账号登录")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E9%80%80%E5%87%BA%E8%B4%A6%E5%8F%B7%E7%99%BB%E5%BD%95"}},[t._v("退出账号登录")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E9%80%80%E5%87%BA%E7%99%BB%E5%BD%95web-%E7%AB%AF"}},[t._v("退出登录（web 端）")])])])])]),t._v(" "),_("hr"),t._v(" "),_("h2",{attrs:{id:"退出登录-web-端"}},[t._v("退出登录（web 端）")]),t._v(" "),_("blockquote",[_("p",[t._v("http://passport.bilibili.com/login/exit/v2")])]),t._v(" "),_("p",[_("em",[t._v("请求方式：POST")])]),t._v(" "),_("p",[t._v("认证方式：Cookie")]),t._v(" "),_("p",[t._v("验证登录成功后会进行删除以下 cookie 项：")]),t._v(" "),_("p",[_("code",[t._v("DedeUserID")]),t._v(" "),_("code",[t._v("DedeUserID__ckMd5")]),t._v(" "),_("code",[t._v("SESSDATA")]),t._v(" "),_("code",[t._v("bili_jct")])]),t._v(" "),_("p",[t._v("并在服务器注销该登录 Token（SESSDATA），该 Token 即失效")]),t._v(" "),_("p",[_("strong",[t._v("正文参数（ application/x-www-form-urlencoded ）：")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数名")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("必要性")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("biliCSRF")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("CSRF Token（位于 cookie）")]),t._v(" "),_("td",[t._v("Cookie 方式必要")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("gourl")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("成功后跳转到的页面")]),t._v(" "),_("td",[t._v("非必要")]),t._v(" "),_("td",[t._v("默认为 "),_("code",[t._v("javascript:history.go(-1)")])])])])]),t._v(" "),_("p",[_("strong",[t._v("json 回复：")])]),t._v(" "),_("p",[t._v("如果 cookie 已经失效则返回登录页面的 html 代码")]),t._v(" "),_("p",[t._v("根对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("code")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("返回值")]),t._v(" "),_("td",[t._v("0：成功 "),_("br"),t._v("-2202：csrf 请求非法")])]),t._v(" "),_("tr",[_("td",[t._v("status")]),t._v(" "),_("td",[t._v("num/不存在")]),t._v(" "),_("td",[t._v("返回值")]),t._v(" "),_("td",[t._v("true：成功，失败时可能不存在")])]),t._v(" "),_("tr",[_("td",[t._v("ts")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("返回值")]),t._v(" "),_("td",[t._v("时间戳（例如：1631796826）")])]),t._v(" "),_("tr",[_("td",[t._v("message")]),t._v(" "),_("td",[t._v("str"),_("br"),t._v("无效时：不存在")]),t._v(" "),_("td",[t._v("错误信息")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("data")]),t._v(" "),_("td",[t._v("有效时：obj"),_("br"),t._v("无效时：不存在")]),t._v(" "),_("td",[t._v("信息本体")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("code",[t._v("data")]),t._v("对象：")]),t._v(" "),_("p",[t._v("redirectUrl 重定向 url")]),t._v(" "),_("p",[_("strong",[t._v("示例：")])]),t._v(" "),_("div",{staticClass:"language-shell extra-class"},[_("pre",{pre:!0,attrs:{class:"language-shell"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST https://passport.bilibili.com/login/exit/v2 "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-b "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cookie字符串"')]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-d "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"biliCSRF=xxxxxx&gourl=https://www.bilibili.com"')]),t._v("\n")])])]),_("details",[_("summary",[t._v("查看响应示例：")]),t._v(" "),_("div",{staticClass:"language-json extra-class"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ts"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("1631796826")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"redirectUrl"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://passport.biligame.com/crossDomain?DedeUserID=&DedeUserID__ckMd5=&SESSDATA=&bili_jct=&gourl=https%3A%2F%2Fwww.bilibili.com"')]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])}),[],!1,null,null,null);s.default=a.exports}}]);