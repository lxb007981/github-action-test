(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{638:function(t,v,_){"use strict";_.r(v);var s=_(32),a=Object(s.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"直播间管理"}},[t._v("直播间管理")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E6%9B%B4%E6%96%B0%E7%9B%B4%E6%92%AD%E9%97%B4%E6%A0%87%E9%A2%98"}},[t._v("更新直播间标题")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#%E5%BC%80%E5%A7%8B%E7%9B%B4%E6%92%AD"}},[t._v("开始直播")])]),t._v(" "),_("li",[_("a",{attrs:{href:"#%E5%85%B3%E9%97%AD%E7%9B%B4%E6%92%AD"}},[t._v("关闭直播")])])]),t._v(" "),_("hr"),t._v(" "),_("h2",{attrs:{id:"更新直播间标题"}},[t._v("更新直播间标题")]),t._v(" "),_("blockquote",[_("p",[t._v("http://api.live.bilibili.com/room/v1/Room/update")])]),t._v(" "),_("p",[_("em",[t._v("请求方式：POST")])]),t._v(" "),_("p",[t._v("认证方式：Cookie（SESSDATA）")]),t._v(" "),_("p",[t._v("鉴权方式：Cookie中"),_("code",[t._v("bili_jct")]),t._v("的值正确并与"),_("code",[t._v("csrf")]),t._v("相同")]),t._v(" "),_("p",[_("strong",[t._v("正文参数（ application/x-www-form-urlencoded ）：")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数名")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("必要性")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("room_id")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("直播间id")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td",[t._v("必须为自己的直播间id")])]),t._v(" "),_("tr",[_("td",[t._v("title")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("直播间标题")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td",[t._v("最大20字符")])]),t._v(" "),_("tr",[_("td",[t._v("csrf")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("CSRF Token（位于cookie）")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("strong",[t._v("json回复：")])]),t._v(" "),_("p",[t._v("根对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("code")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("返回值")]),t._v(" "),_("td",[t._v("0：成功"),_("br"),t._v("65530：token错误（登录错误）"),_("br"),t._v("1：错误")])]),t._v(" "),_("tr",[_("td",[t._v("msg")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("错误信息")]),t._v(" "),_("td",[t._v("默认为ok")])]),t._v(" "),_("tr",[_("td",[t._v("message")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("错误信息")]),t._v(" "),_("td",[t._v("默认为ok")])]),t._v(" "),_("tr",[_("td",[t._v("data")]),t._v(" "),_("td",[t._v("array")]),t._v(" "),_("td",[t._v("空")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("strong",[t._v("示例：")])]),t._v(" "),_("p",[t._v("修改直播间"),_("code",[t._v("10352053")]),t._v("标题为"),_("code",[t._v("测试")])]),t._v(" "),_("div",{staticClass:"language-shell extra-class"},[_("pre",{pre:!0,attrs:{class:"language-shell"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.live.bilibili.com/room/v1/Room/update'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'room_id=10352053'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title=测试'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'csrf=xxx'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-b "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SESSDATA=xxx;bili_jct=xx'")]),t._v("\n")])])]),_("details",[_("summary",[t._v("查看响应示例：")]),t._v(" "),_("div",{staticClass:"language-json extra-class"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),_("h2",{attrs:{id:"开始直播"}},[t._v("开始直播")]),t._v(" "),_("blockquote",[_("p",[t._v("http://api.live.bilibili.com/room/v1/Room/startLive")])]),t._v(" "),_("p",[_("em",[t._v("请求方式：POST")])]),t._v(" "),_("p",[t._v("认证方式：Cookie（SESSDATA）")]),t._v(" "),_("p",[t._v("鉴权方式：Cookie中"),_("code",[t._v("bili_jct")]),t._v("的值正确并与"),_("code",[t._v("csrf")]),t._v("相同")]),t._v(" "),_("p",[t._v("开播时必须有分区选择，开播后返回推流地址")]),t._v(" "),_("p",[_("strong",[t._v("正文参数（ application/x-www-form-urlencoded ）：")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数名")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("必要性")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("room_id")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("直播间id")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td",[t._v("必须为自己的直播间id")])]),t._v(" "),_("tr",[_("td",[t._v("area_v2")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("直播分区id（子分区id）")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td",[t._v("详见"),_("RouterLink",{attrs:{to:"/live/live_area.html"}},[t._v("直播分区")])],1)]),t._v(" "),_("tr",[_("td",[t._v("platform")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("直播平台")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td",[t._v("web端："),_("br"),t._v("bililink：android_link")])]),t._v(" "),_("tr",[_("td",[t._v("csrf")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("CSRF Token（位于cookie）")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("strong",[t._v("json回复：")])]),t._v(" "),_("p",[t._v("根对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("code")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("返回值")]),t._v(" "),_("td",[t._v("0：成功"),_("br"),t._v("65530：token错误（登录错误）"),_("br"),t._v("1：错误"),_("br"),t._v("60009：分区不存在"),_("br"),_("strong",[t._v("（其他错误码有待补充）")])])]),t._v(" "),_("tr",[_("td",[t._v("msg")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("错误信息")]),t._v(" "),_("td",[t._v("默认为空")])]),t._v(" "),_("tr",[_("td",[t._v("message")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("错误信息")]),t._v(" "),_("td",[t._v("默认为空")])]),t._v(" "),_("tr",[_("td",[t._v("data")]),t._v(" "),_("td",[t._v("obj")]),t._v(" "),_("td",[t._v("信息本体")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("code",[t._v("data")]),t._v("对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("change")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("是否改变状态")]),t._v(" "),_("td",[t._v("0：未改变"),_("br"),t._v("1：改变")])]),t._v(" "),_("tr",[_("td",[t._v("status")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("LIVE")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("room_type")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("rtmp")]),t._v(" "),_("td",[t._v("obj")]),t._v(" "),_("td",[t._v("RTMP推流地址信息")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("protocols")]),t._v(" "),_("td",[t._v("array")]),t._v(" "),_("td",[t._v("？？？")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("try_time")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("？？？")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("live_key")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("？？？")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("notice")]),t._v(" "),_("td",[t._v("obj")]),t._v(" "),_("td",[t._v("？？？")]),t._v(" "),_("td",[t._v("作用尚不明确")])])])]),t._v(" "),_("p",[_("code",[t._v("data")]),t._v("中的"),_("code",[t._v("rtmp")]),t._v("对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("addr")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("RTMP推流（发送）地址")]),t._v(" "),_("td",[_("strong",[t._v("重要")])])]),t._v(" "),_("tr",[_("td",[t._v("code")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("RTMP推流参数（密钥）")]),t._v(" "),_("td",[_("strong",[t._v("重要")])])]),t._v(" "),_("tr",[_("td",[t._v("new_link")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("获取CDN推流ip地址重定向信息的url")]),t._v(" "),_("td",[t._v("没啥用")])]),t._v(" "),_("tr",[_("td",[t._v("provider")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("？？？")]),t._v(" "),_("td",[t._v("作用尚不明确")])])])]),t._v(" "),_("p",[_("code",[t._v("data")]),t._v("中的"),_("code",[t._v("protocols")]),t._v("数组：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("项")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("0")]),t._v(" "),_("td",[t._v("obj")]),t._v(" "),_("td",[t._v("？？？")]),t._v(" "),_("td",[t._v("作用尚不明确")])])])]),t._v(" "),_("p",[_("code",[t._v("data")]),t._v("中的"),_("code",[t._v("protocols")]),t._v("数组中的对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("protocol")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("rtmp")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("addr")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("RTMP推流（发送）地址")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("code")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("RTMP推流参数（密钥）")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("new_link")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("获取CDN推流ip地址重定向信息的url")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("provider")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("txy")]),t._v(" "),_("td",[t._v("作用尚不明确")])])])]),t._v(" "),_("p",[_("code",[t._v("data")]),t._v("中的"),_("code",[t._v("notice")]),t._v("对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("type")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("status")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("title")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("空")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("msg")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("空")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("button_text")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("空")]),t._v(" "),_("td",[t._v("作用尚不明确")])]),t._v(" "),_("tr",[_("td",[t._v("button_url")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("空")]),t._v(" "),_("td",[t._v("作用尚不明确")])])])]),t._v(" "),_("p",[_("strong",[t._v("示例：")])]),t._v(" "),_("p",[t._v("以"),_("code",[t._v("27")]),t._v("作为分区id开播直播间"),_("code",[t._v("10352053")])]),t._v(" "),_("p",[t._v("其中"),_("code",[t._v('"data"."rtmp"."addr"')]),t._v("为推流地址")]),t._v(" "),_("p",[_("code",[t._v('"data"."rtmp"."code"')]),t._v("为推流参数")]),t._v(" "),_("div",{staticClass:"language-shell extra-class"},[_("pre",{pre:!0,attrs:{class:"language-shell"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.live.bilibili.com/room/v1/Room/startLive'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'room_id=10352053'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'area_v2=27'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'platform=pc'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'csrf=xxx'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-b "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SESSDATA=xxx;bili_jct=xx'")]),t._v("\n")])])]),_("details",[_("summary",[t._v("查看响应示例：")]),t._v(" "),_("div",{staticClass:"language-json extra-class"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"change"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LIVE"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"room_type"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rtmp"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"addr"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rtmp://txy.live-send.acg.tv/live-txy/"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"?streamname=live_293793435_1567354&key=***"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"new_link"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://tcdns.myqcloud.com:8086/bilibili_redirect?up_rtmp=txy.live-send.acg.tv%2Flive-txy%2F%3Fstreamname%3Dlive_293793435_1567354%26key%3D***"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"provider"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"txy"')]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"protocols"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"protocol"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rtmp"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"addr"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rtmp://txy.live-send.acg.tv/live-txy/"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"?streamname=live_293793435_1567354&key=***"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"new_link"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://tcdns.myqcloud.com:8086/bilibili_redirect?up_rtmp=txy.live-send.acg.tv%2Flive-txy%2F%3Fstreamname%3Dlive_293793435_1567354%26key%3D***"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"provider"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"txy"')]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"try_time"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0000-00-00 00:00:00"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"live_key"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"l:one:live:record:10352053:1589344980"')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"notice"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"button_text"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"button_url"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),_("h2",{attrs:{id:"关闭直播"}},[t._v("关闭直播")]),t._v(" "),_("blockquote",[_("p",[t._v("http://api.live.bilibili.com/room/v1/Room/stopLive")])]),t._v(" "),_("p",[_("em",[t._v("请求方式：POST")])]),t._v(" "),_("p",[t._v("认证方式：Cookie（SESSDATA）")]),t._v(" "),_("p",[t._v("鉴权方式：Cookie中"),_("code",[t._v("bili_jct")]),t._v("的值正确并与"),_("code",[t._v("csrf")]),t._v("相同")]),t._v(" "),_("p",[_("strong",[t._v("正文参数（ application/x-www-form-urlencoded ）：")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数名")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("必要性")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("room_id")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("直播间id")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td",[t._v("必须为自己的直播间id")])]),t._v(" "),_("tr",[_("td",[t._v("csrf")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("CSRF Token（位于cookie）")]),t._v(" "),_("td",[t._v("必要")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("strong",[t._v("json回复：")])]),t._v(" "),_("p",[t._v("根对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("code")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("返回值")]),t._v(" "),_("td",[t._v("0：成功"),_("br"),t._v("65530：token错误（登录错误）"),_("br"),t._v("-400：没有权限"),_("br"),_("strong",[t._v("（其他错误码有待补充）")])])]),t._v(" "),_("tr",[_("td",[t._v("msg")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("错误信息")]),t._v(" "),_("td",[t._v("默认为空")])]),t._v(" "),_("tr",[_("td",[t._v("message")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("错误信息")]),t._v(" "),_("td",[t._v("默认为空")])]),t._v(" "),_("tr",[_("td",[t._v("data")]),t._v(" "),_("td",[t._v("obj")]),t._v(" "),_("td",[t._v("信息本体")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("code",[t._v("data")]),t._v("对象：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("change")]),t._v(" "),_("td",[t._v("num")]),t._v(" "),_("td",[t._v("是否改变状态")]),t._v(" "),_("td",[t._v("0：未改变"),_("br"),t._v("1：改变")])]),t._v(" "),_("tr",[_("td",[t._v("status")]),t._v(" "),_("td",[t._v("str")]),t._v(" "),_("td",[t._v("PREPARING")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[_("strong",[t._v("示例：")])]),t._v(" "),_("p",[t._v("关闭直播间"),_("code",[t._v("10352053")]),t._v("的直播")]),t._v(" "),_("div",{staticClass:"language-shell extra-class"},[_("pre",{pre:!0,attrs:{class:"language-shell"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.live.bilibili.com/room/v1/Room/stopLive'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'room_id=10352053'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'csrf=xxx'")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-b "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SESSDATA=xxx;bili_jct=xxx'")]),t._v("\n")])])]),_("details",[_("summary",[t._v("查看响应示例：")]),t._v(" "),_("div",{staticClass:"language-json extra-class"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"change"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PREPARING"')]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])}),[],!1,null,null,null);v.default=a.exports}}]);