(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{427:function(t,s,a){"use strict";a.r(s);var r=a(32),_=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"全站广播"}},[t._v("全站广播")]),t._v(" "),a("p",[t._v("可用的广播服务：")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/broadcast/video_room.html"}},[t._v("视频实时信息")]),t._v("√")],1)]),t._v(" "),a("h2",{attrs:{id:"获取广播服务器地址"}},[t._v("获取广播服务器地址")]),t._v(" "),a("blockquote",[a("p",[t._v("http://api.bilibili.com/x/web-interface/broadcast/servers")])]),t._v(" "),a("p",[a("em",[t._v("请求方式：GET")])]),t._v(" "),a("p",[a("strong",[t._v("url参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("必要性")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("platform")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("平台选择")]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td",[t._v("为web时输出域名"),a("br"),t._v("其他时输出ip")])])])]),t._v(" "),a("p",[a("strong",[t._v("json回复：")])]),t._v(" "),a("p",[t._v("根对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("返回值")]),t._v(" "),a("td",[t._v("0：成功"),a("br"),t._v("-400：请求错误")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("错误信息")]),t._v(" "),a("td",[t._v("默认为0")])]),t._v(" "),a("tr",[a("td",[t._v("ttl")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("obj")]),t._v(" "),a("td",[t._v("信息本体")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("domain")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("广播服务器url")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("tcp_port")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("tcp端口")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ws_port")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("websocket端口")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("wss_port")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("websocket ssl端口")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("heartbeat")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("最大心跳包间隔时间")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("nodes")]),t._v(" "),a("td",[t._v("array")]),t._v(" "),a("td",[t._v("服务节点地址列表")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("backoff")]),t._v(" "),a("td",[t._v("obj")]),t._v(" "),a("td",[t._v("？？？")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("heartbeat_max")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("？？？")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("中的"),a("code",[t._v("nodes")]),t._v("数组：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("项")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("服务节点1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("n")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("服务节点(n+1)")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("……")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("……")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("中的"),a("code",[t._v("backoff")]),t._v("对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("max_delay")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("？？？")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("base_delay")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("？？？")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("factor")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("？？？")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("jitter")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("？？？")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("示例：")]),t._v(" "),a("p",[t._v("当"),a("code",[t._v("platform")]),t._v("="),a("code",[t._v("web")]),t._v("时，不显示节点ip")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -G "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.bilibili.com/x/web-interface/broadcast/servers'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'platform=web'")]),t._v("\n")])])]),a("details",[a("summary",[t._v("查看响应示例：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ttl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domain"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"broadcast.chat.bilibili.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tcp_port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7821")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ws_port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7822")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wss_port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7823")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"heartbeat"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nodes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"broadcast.chat.bilibili.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"backoff"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"max_delay"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"base_delay"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"factor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jitter"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"heartbeat_max"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("当"),a("code",[t._v("platform")]),t._v("=其他时，显示节点ip")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -G "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.bilibili.com/x/web-interface/broadcast/servers'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'platform=1'")]),t._v("\n")])])]),a("details",[a("summary",[t._v("查看响应示例：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ttl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domain"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"broadcast.chat.bilibili.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tcp_port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7821")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ws_port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7822")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wss_port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7823")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"heartbeat"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nodes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"134.175.207.130"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"120.92.150.90"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"120.92.150.212"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192.144.173.136"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"154.8.217.108"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"backoff"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"max_delay"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"base_delay"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"factor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jitter"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"heartbeat_max"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("h2",{attrs:{id:"服务器数据包"}},[t._v("服务器数据包")]),t._v(" "),a("p",[t._v("连接服务器分为三种方式，分别是ws wss tcp，数据包分为上行和下行")]),t._v(" "),a("p",[t._v("单个数据包分为头部和正文")]),t._v(" "),a("p",[t._v("其中上行的有认证包 心跳包，下行的有认证包回复 心跳包回复 普通包")]),t._v(" "),a("p",[t._v("建立连接后超过30s内未发送认证包，或握手后30s内未发送心跳包，或发送了错误的认证包，都会被强制断开连接")]),t._v(" "),a("p",[t._v("操作流程：")]),t._v(" "),a("p",[t._v("1.发送认证包，等待接收认证回复")]),t._v(" "),a("p",[t._v("2.确认握手成功后，每30s内发送心跳包，并立即接收心跳包回复")]),t._v(" "),a("p",[t._v("3.空闲时间接收普通包")]),t._v(" "),a("h3",{attrs:{id:"数据包结构"}},[t._v("数据包结构")]),t._v(" "),a("p",[t._v("头部通用于上行和下行数据包")]),t._v(" "),a("p",[t._v("头部格式：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("偏移量")]),t._v(" "),a("th",[t._v("长度（字节）")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0x00")]),t._v(" "),a("td",[t._v("4")]),t._v(" "),a("td",[t._v("uint32")]),t._v(" "),a("td",[t._v("封包总大小（头部大小+正文大小）")])]),t._v(" "),a("tr",[a("td",[t._v("0x04")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[t._v("uint16")]),t._v(" "),a("td",[t._v("头部大小（一般为0x0012，18字节）")])]),t._v(" "),a("tr",[a("td",[t._v("0x06")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[t._v("uint16")]),t._v(" "),a("td",[t._v("协议版本，可取常数1")])]),t._v(" "),a("tr",[a("td",[t._v("0x08")]),t._v(" "),a("td",[t._v("4")]),t._v(" "),a("td",[t._v("uint32")]),t._v(" "),a("td",[t._v("操作码（包类型）"),a("br"),a("strong",[t._v("见下表")])])]),t._v(" "),a("tr",[a("td",[t._v("0x0C")]),t._v(" "),a("td",[t._v("4")]),t._v(" "),a("td",[t._v("uint32")]),t._v(" "),a("td",[t._v("sequence（请求次数），可取常数1"),a("br"),t._v("对于普通包恒为0")])]),t._v(" "),a("tr",[a("td",[t._v("0x10")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[t._v("uint16")]),t._v(" "),a("td",[t._v("保留，一般为0")])])])]),t._v(" "),a("p",[t._v("操作码：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("代码")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("心跳")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("心跳回复")])]),t._v(" "),a("tr",[a("td",[t._v("7")]),t._v(" "),a("td",[t._v("认证")])]),t._v(" "),a("tr",[a("td",[t._v("8")]),t._v(" "),a("td",[t._v("认证回复")])]),t._v(" "),a("tr",[a("td",[t._v("1000")]),t._v(" "),a("td",[t._v("实时弹幕")])])])]),t._v(" "),a("p",[a("strong",[t._v("示例：")])]),t._v(" "),a("p",[t._v("以下为一个认证包示例，正文为文本"),a("code",[t._v("test")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("00000000  00 00 00 16 00 12 00 01  00 00 00 07 00 00 00 01  |................|\n00000010  00 00 74 65 73 74                                 |..test|\n")])])]),a("p",[a("RouterLink",{attrs:{to:"/broadcast/video_room.html"}},[t._v("video_room.md")])],1)])}),[],!1,null,null,null);s.default=_.exports}}]);