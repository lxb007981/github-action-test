(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{417:function(t,s,a){"use strict";a.r(s);var r=a(32),v=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"音频流url"}},[t._v("音频流URL")]),t._v(" "),a("img",{attrs:{src:"/imgs/download.svg",width:"100",height:"100"}}),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E8%8E%B7%E5%8F%96%E9%9F%B3%E9%A2%91%E6%B5%81URL%EF%BC%88%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96%E4%BB%98%E8%B4%B9%E9%9F%B3%E9%A2%91%EF%BC%89%EF%BC%88web%E7%AB%AF%EF%BC%89"}},[t._v("获取音频流URL（无法获取付费音频）（web端）")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%8E%B7%E5%8F%96%E9%9F%B3%E9%A2%91%E6%B5%81URL%EF%BC%88%E5%8F%AF%E8%8E%B7%E5%8F%96%E4%BB%98%E8%B4%B9%E9%9F%B3%E9%A2%91%EF%BC%89%EF%BC%88%E5%8F%8C%E7%AB%AF%EF%BC%89"}},[t._v("获取音频流URL（可获取付费音频）（双端）")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E9%9F%B3%E9%A2%91%E6%B5%81%E7%9A%84%E8%8E%B7%E5%8F%96"}},[t._v("音频流的获取")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("音质"),a("code",[t._v("qn")]),t._v("参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("代码")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("流畅 128K")])]),t._v(" "),a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("标准 192K")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("高品质 320K")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("无损 FLAC （大会员）")])])])]),t._v(" "),a("h2",{attrs:{id:"获取音频流url-无法获取付费音频-web端"}},[t._v("获取音频流URL（无法获取付费音频）（web端）")]),t._v(" "),a("blockquote",[a("p",[t._v("http://www.bilibili.com/audio/music-service-c/web/url")])]),t._v(" "),a("p",[a("em",[t._v("请求方式：GET")])]),t._v(" "),a("p",[a("strong",[t._v("注：web端无法播放完整付费歌曲，付费歌曲为30s试听片段")])]),t._v(" "),a("p",[t._v("本接口仅能获取192K音质的音频")]),t._v(" "),a("p",[a("strong",[t._v("url参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("必要性")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("sid")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音频auid")]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("json回复：")])]),t._v(" "),a("p",[t._v("根对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("返回值")]),t._v(" "),a("td",[t._v("0:成功"),a("br"),t._v("7201006：未找到或已下架"),a("br"),t._v("72000000：请求错误")])]),t._v(" "),a("tr",[a("td",[t._v("msg")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("错误信息")]),t._v(" "),a("td",[t._v("默认为success")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("obj")]),t._v(" "),a("td",[t._v("数据本体")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("sid")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音频auid")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音质标识")]),t._v(" "),a("td",[t._v("-1：试听片段（192K）"),a("br"),t._v("1：192K")])]),t._v(" "),a("tr",[a("td",[t._v("info")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("空")]),t._v(" "),a("td",[a("strong",[t._v("作用尚不明确")])])]),t._v(" "),a("tr",[a("td",[t._v("timeout")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("有效时长")]),t._v(" "),a("td",[t._v("单位为秒"),a("br"),t._v("一般为3h")])]),t._v(" "),a("tr",[a("td",[t._v("size")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("文件大小")]),t._v(" "),a("td",[t._v("单位为字节"),a("br"),t._v("当"),a("code",[t._v("type")]),t._v("为-1时"),a("code",[t._v("size")]),t._v("为0")])]),t._v(" "),a("tr",[a("td",[t._v("cdns")]),t._v(" "),a("td",[t._v("array")]),t._v(" "),a("td",[t._v("音频流url")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("qualities")]),t._v(" "),a("td",[t._v("null")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("title")]),t._v(" "),a("td",[t._v("null")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("cover")]),t._v(" "),a("td",[t._v("null")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("对象的"),a("code",[t._v("cdns")]),t._v("数组：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("项")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("音频流url")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("备用音频流url")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("示例：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -G "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.bilibili.com/audio/music-service-c/web/url'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--data-urlencode "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sid=sid=15664'")]),t._v("\n")])])]),a("details",[a("summary",[t._v("查看响应示例：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15664")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"info"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timeout"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4853263")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cdns"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://upos-sz-mirrorkodo.bilivideo.com/ugaxcode/7bf6a3a3e94421ccc653f005457b1e8c-192k.m4a?deadline=1595331310&gen=uga&os=kodobv&uparams=deadline,gen,os&upsig=0ecd3c7a8d9539f260239d8fa4c093db"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://upos-sz-mirrorks3.bilivideo.com/ugaxcode/7bf6a3a3e94421ccc653f005457b1e8c-192k.m4a?deadline=1595331310&gen=uga&os=ks3bv&uparams=deadline,gen,os&upsig=f3fe53aff56655b1b7264ae4ab65872e"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qualities"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cover"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("h2",{attrs:{id:"获取音频流url-可获取付费音频-双端"}},[t._v("获取音频流URL（可获取付费音频）（双端）")]),t._v(" "),a("blockquote",[a("p",[t._v("http://api.bilibili.com/audio/music-service-c/url")])]),t._v(" "),a("p",[a("em",[t._v("请求方式：GET")])]),t._v(" "),a("p",[t._v("认证方式：APP或Cookie（SESSDATA）")]),t._v(" "),a("p",[a("strong",[t._v("注：付费音乐需要有带大会员或音乐包的账号登录（Cookie或APP），否则为试听片段")])]),t._v(" "),a("p",[t._v("无损音质需要登录的用户为会员")]),t._v(" "),a("p",[a("strong",[t._v("url参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("必要性")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("access_key")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("APP登录Token")]),t._v(" "),a("td",[t._v("APP方式必要")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("songid")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音频auid")]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("quality")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音质代码")]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td",[a("strong",[t._v("详情见上表")])])]),t._v(" "),a("tr",[a("td",[t._v("privilege")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("必须为"),a("code",[t._v("2")])]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("mid")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("当前用户mid")]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td",[t._v("可为任意值")])]),t._v(" "),a("tr",[a("td",[t._v("platform")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("平台标识")]),t._v(" "),a("td",[t._v("必要")]),t._v(" "),a("td",[t._v("可为任意值")])])])]),t._v(" "),a("p",[a("strong",[t._v("json回复：")])]),t._v(" "),a("p",[t._v("根对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("返回值")]),t._v(" "),a("td",[t._v("0:成功"),a("br"),t._v("7201006：未找到或已下架"),a("br"),t._v("72000000：请求错误")])]),t._v(" "),a("tr",[a("td",[t._v("msg")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("错误信息")]),t._v(" "),a("td",[t._v("默认为success")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("obj")]),t._v(" "),a("td",[t._v("数据本体")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("sid")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音频auid")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音质标识")]),t._v(" "),a("td",[t._v("-1：试听片段（192K）"),a("br"),t._v("0：128K"),a("br"),t._v("1：192K"),a("br"),t._v("2：320K"),a("br"),t._v("3：FLAC")])]),t._v(" "),a("tr",[a("td",[t._v("info")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("空")]),t._v(" "),a("td",[a("strong",[t._v("作用尚不明确")])])]),t._v(" "),a("tr",[a("td",[t._v("timeout")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("有效时长")]),t._v(" "),a("td",[t._v("单位为秒"),a("br"),t._v("一般为3h")])]),t._v(" "),a("tr",[a("td",[t._v("size")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("文件大小")]),t._v(" "),a("td",[t._v("单位为字节"),a("br"),t._v("当"),a("code",[t._v("type")]),t._v("为-1时"),a("code",[t._v("size")]),t._v("为0")])]),t._v(" "),a("tr",[a("td",[t._v("cdns")]),t._v(" "),a("td",[t._v("array")]),t._v(" "),a("td",[t._v("音频流url")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("qualities")]),t._v(" "),a("td",[t._v("array")]),t._v(" "),a("td",[t._v("音质列表")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("title")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("音频标题")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("cover")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("音频封面url")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("对象的"),a("code",[t._v("cdns")]),t._v("数组：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("项")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("音频流url")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("备用音频流url")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("data")]),t._v("对象的"),a("code",[t._v("qualities")]),t._v("数组：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("项")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("obj")]),t._v(" "),a("td",[t._v("音质1")]),t._v(" "),a("td",[t._v("音质由高向低顺序")])]),t._v(" "),a("tr",[a("td",[t._v("n")]),t._v(" "),a("td",[t._v("obj")]),t._v(" "),a("td",[t._v("音质（n+1）")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("code",[t._v("qualities")]),t._v("数组中的对象：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("内容")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("音质代码")]),t._v(" "),a("td",[a("strong",[t._v("详情见上表")])])]),t._v(" "),a("tr",[a("td",[t._v("desc")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("音质名称")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("size")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("该音质的文件大小")]),t._v(" "),a("td",[t._v("单位为字节")])]),t._v(" "),a("tr",[a("td",[t._v("bps")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("比特率标签")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("tag")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("音质标签")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("require")]),t._v(" "),a("td",[t._v("num")]),t._v(" "),a("td",[t._v("是否需要会员权限")]),t._v(" "),a("td",[t._v("0：不需要"),a("br"),t._v("1：需要")])]),t._v(" "),a("tr",[a("td",[t._v("requiredesc")]),t._v(" "),a("td",[t._v("str")]),t._v(" "),a("td",[t._v("会员权限标签")]),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("示例：")])]),t._v(" "),a("p",[t._v("获取音频"),a("code",[t._v("au682118")]),t._v("的音频流url，音质为"),a("code",[t._v("3（无损）")])]),t._v(" "),a("p",[t._v("Cookie方式：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -G "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.bilibili.com/audio/music-service-c/url\n--data-urlencode '")]),t._v("songid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("682118")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("quality"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("privilege"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("platform"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("android"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("mid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("293793435")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n-b '")]),t._v("SESSDATA"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxx'\n")])])]),a("p",[t._v("APP方式：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -G "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://api.bilibili.com/audio/music-service-c/url\n--data-urlencode '")]),t._v("access_key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("songid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("682118")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("quality"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("privilege"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("platform"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("android"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' \\\n--data-urlencode '")]),t._v("mid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("293793435")]),t._v("'\n")])])]),a("details",[a("summary",[t._v("查看响应示例：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("682118")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"info"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timeout"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("34456494")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cdns"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://upos-sz-mirrorkodo.bilivideo.com/ugaxcode/m190102ws2pzf6jitbem841vq2x0du5x-flac.flac?deadline=1595332269&gen=uga&os=kodobv&uparams=deadline,gen,os&upsig=ac2284d97a61ef8758681eccf621c56d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://upos-sz-mirrorks3.bilivideo.com/ugaxcode/m190102ws2pzf6jitbem841vq2x0du5x-flac.flac?deadline=1595332269&gen=uga&os=ks3bv&uparams=deadline,gen,os&upsig=3ac7d94dda5664f6f95dbfffeb289744"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qualities"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"desc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"无损音质"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("34456494")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bps"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tag"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SQ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"require"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requiredesc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"付费享受"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"desc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"高品质"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10788682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bps"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"320kbit/s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tag"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HQ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"require"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requiredesc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"desc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标准"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6491973")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bps"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192kbit/s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tag"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"require"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requiredesc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"desc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"流畅"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4343667")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bps"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"128kbit/s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tag"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"require"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"requiredesc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aLIEz"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cover"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://i0.hdslb.com/bfs/music/61d3f8cfdce14d2d1b006af59559c9bd22a2d21b.jpg"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("h2",{attrs:{id:"音频流的获取"}},[t._v("音频流的获取")]),t._v(" "),a("p",[t._v("将"),a("code",[t._v("data")]),t._v("."),a("code",[t._v("cdns")]),t._v("."),a("code",[t._v("[0]")]),t._v("或"),a("code",[t._v("data")]),t._v("."),a("code",[t._v("cdns")]),t._v("."),a("code",[t._v("[1]")]),t._v("中的内容作为url进行GET操作")]),t._v(" "),a("p",[t._v("需要验证请求"),a("code",[t._v("user-agent")]),t._v(" 不为空")]),t._v(" "),a("p",[a("strong",[t._v("user-agent错误并且referer不在"),a("code",[t._v("*.bilibili.com")]),t._v("域名下的情况下会导致403 Forbidden，故无法获取")])]),t._v(" "),a("p",[a("strong",[t._v("以上述音频url为例：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://upos-sz-mirrorkodo.bilivideo.com/ugaxcode/m190102ws2pzf6jitbem841vq2x0du5x-flac.flac?deadline=1595332269&gen=uga&os=kodobv&uparams=deadline,gen,os&upsig=ac2284d97a61ef8758681eccf621c56d'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n-O "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Download_music.flac'")]),t._v("\n")])])]),a("p",[t._v("响应正文将返回一个flac文件")])])}),[],!1,null,null,null);s.default=v.exports}}]);